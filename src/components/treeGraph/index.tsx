import { memo } from 'react';
import { Graph } from 'react-d3-graph';

const data = {
    links: [
        {
            entry_no: 'TRX-0001',
            date: '2021-06-16',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            target: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            type: 'Receive',
            product: 'ETH',
            source_type: 'ETH Wallet',
            tx_hash:
                '0x200cfdbaa1424c5a528c14dd0ff255bcc851dfc94f71cb6b6072acbfd2581727',
            from_wallet: '0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0',
            to_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            ledger_id: 53276010,
            label: 'Receive',   
        },
        {
            entry_no: null,
            date: '2021-06-16',
            source_identifier: null,
            source: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            target: '2021-06-16',
            type: null,
            product: null,
            source_type: null,
            tx_hash: null,
            from_wallet: null,
            to_wallet: null,
            ledger_id: null,
            label: 'Receive',
        },
        {
            entry_no: 'TRX-0001',
            date: '2021-06-16',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0',
            target: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            type: 'Receive',
            product: 'ETH',
            source_type: 'ETH Wallet',
            tx_hash:
                '0x200cfdbaa1424c5a528c14dd0ff255bcc851dfc94f71cb6b6072acbfd2581727',
            from_wallet: '0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0',
            to_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            ledger_id: 53276010,
            label: 'Receive',
        },
        {
            entry_no: null,
            date: '2022-11-13',
            source_identifier: null,
            source: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            target: '2022-11-13',
            type: null,
            product: null,
            source_type: null,
            tx_hash: null,
            from_wallet: null,
            to_wallet: null,
            ledger_id: null,
            label: 'Receive',
        },
        {
            entry_no: 'TRX-0002',
            date: '2022-11-13',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0',
            target: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            type: 'Receive',
            product: 'ETH',
            source_type: 'ETH Wallet',
            tx_hash:
                '0xd654bc825f581eb9aa3da255fc225976abaae5c2763b9d83b5af2f2f43cfb282',
            from_wallet: '0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0',
            to_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            ledger_id: 53276011,
            label: 'Receive',
        },
        {
            entry_no: 'TRX-0003',
            date: '2022-11-13',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0xa83b11093c858c86321fbc4c20fe82cdbd58e09e',
            target: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            type: 'Receive',
            product: 'MATIC',
            source_type: 'MATIC Wallet',
            tx_hash:
                '0x7953d69d45b58083783ef7ced8abcc07ac41e19e6d6eba753b6d132abf83145b',
            from_wallet: '0xa83b11093c858c86321fbc4c20fe82cdbd58e09e',
            to_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            ledger_id: 53276015,
            label: 'Receive',
        },
        {
            entry_no: 'TRX-0004',
            date: '2022-11-13',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x26a78d5b6d7a7aceedd1e6ee3229b372a624d8b7',
            target: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            type: 'Receive',
            product: 'AAVE',
            source_type: 'AAVE Wallet',
            tx_hash:
                '0xc1bd304075002a9dbea85769a1e59b98c685091a64790ed59c100835c191f1af',
            from_wallet: '0x26a78d5b6d7a7aceedd1e6ee3229b372a624d8b7',
            to_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            ledger_id: 53276016,
            label: 'Receive',
        },
        {
            entry_no: null,
            date: '2023-03-15',
            source_identifier: null,
            source: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            target: '2023-03-15',
            type: null,
            product: null,
            source_type: null,
            tx_hash: null,
            from_wallet: null,
            to_wallet: null,
            ledger_id: null,
            label: 'Send',
        },
        {
            entry_no: 'TRX-0005',
            date: '2023-03-15',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            target: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            type: 'Send',
            product: 'ETH',
            source_type: 'ETH Wallet',
            tx_hash:
                '0x397ad2103f0fe5796c50f294520ae389db5e87fc4df4c751abbd245322a5f4dc',
            from_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            to_wallet: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            ledger_id: 53276012,
            label: 'Send',
        },
        {
            entry_no: null,
            date: '2023-07-12',
            source_identifier: null,
            source: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            target: '2023-07-12',
            type: null,
            product: null,
            source_type: null,
            tx_hash: null,
            from_wallet: null,
            to_wallet: null,
            ledger_id: null,
            label: 'Send',
        },
        {
            entry_no: 'TRX-0006',
            date: '2023-07-12',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            target: '0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0',
            type: 'Send',
            product: 'ETH',
            source_type: 'ETH Wallet',
            tx_hash:
                '0xf418df4d20eab0e00ca7972e41ba92a5e40a496dafe3f093ba83728950675514',
            from_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            to_wallet: '0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0',
            ledger_id: 53276013,
            label: 'Send',
        },
        {
            entry_no: 'TRX-0007',
            date: '2023-07-12',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            target: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            type: 'Send',
            product: 'MATIC',
            source_type: 'MATIC Wallet',
            tx_hash:
                '0xf418df4d20eab0e00ca7972e41ba92a5e40a496dafe3f093ba83728950675514',
            from_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            to_wallet: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            ledger_id: 53276017,
            label: 'Send',
        },
        {
            entry_no: 'TRX-0008',
            date: '2023-07-12',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            target: '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9',
            type: 'Send',
            product: 'ETH',
            source_type: 'ETH Wallet',
            tx_hash:
                '0xc46fb861a4a4b95714a777c3d00e981d699ff5c476e086413a45be3d8538a030',
            from_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            to_wallet: '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9',
            ledger_id: 53276014,
            label: 'Send',
        },
        {
            entry_no: 'TRX-0009',
            date: '2023-07-12',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            target: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            type: 'Send',
            product: 'AAVE',
            source_type: 'AAVE Wallet',
            tx_hash:
                '0xc46fb861a4a4b95714a777c3d00e981d699ff5c476e086413a45be3d8538a030',
            from_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            to_wallet: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            ledger_id: 53276018,
            label: 'Send',
        },
        {
            entry_no: null,
            date: '2023-09-10',
            source_identifier: null,
            source: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            target: '2023-09-10',
            type: null,
            product: null,
            source_type: null,
            tx_hash: null,
            from_wallet: null,
            to_wallet: null,
            ledger_id: null,
            label: 'Receive',
        },
        {
            entry_no: 'TRX-0010',
            date: '2023-09-10',
            source_identifier: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            source: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',
            target: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            type: 'Receive',
            product: 'Visit https://usdreward.com to claim rewards',
            source_type: 'Visit https://usdreward.com to claim rewards Wallet',
            tx_hash:
                '0xd7820dd43a8be0c8aa23c50f27aee96432607782819be93b9cb2de1d5c5d4af9',
            from_wallet: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',
            to_wallet: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            ledger_id: 53276019,
            label: 'Receive',
        },
    ],
    nodes: [
        {
            id: '0xa83b11093c858c86321fbc4c20fe82cdbd58e09e',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0x92CdDd4e9c58E0812161e2b4F0b24Ed08fb2e174',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '2023-07-12',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '2022-11-13',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '2023-03-15',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0x92cddd4e9c58e0812161e2b4f0b24ed08fb2e174',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0xcd25a048c06b1475476b85e8753cb4771a0bb040',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0x26a78d5b6d7a7aceedd1e6ee3229b372a624d8b7',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '0x267be1c1d684f78cb4f6a176c4911b741e4ffdc0',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '2023-09-10',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
        {
            id: '2021-06-16',
            svg: '/assets/svg/user.svg',
            size: 600,
        },
    ],
};

// the graph configuration, just override the ones you need
const myConfig: any = {
    automaticRearrangeAfterDropNode: true,
    collapsible: true,
    directed: true,
    focusAnimationDuration: 0.75,
    focusZoom: 1,
    freezeAllDragEvents: false,
    height: window.innerHeight,
    highlightDegree: 2,
    highlightOpacity: 0.2,
    linkHighlightBehavior: true,
    maxZoom: 12,
    minZoom: 0.05,
    nodeHighlightBehavior: true,
    panAndZoom: false,
    staticGraph: false,
    staticGraphWithDragAndDrop: false,
    width: window.innerWidth,
    d3: {
        alphaTarget: 0.05,
        gravity: -250,
        linkLength: 150,
        linkStrength: 2,
        disableLinkForce: false,
    },
    node: {
        color: '#d3d3d3',
        fontColor: 'black',
        fontSize: 10,
        fontWeight: 'normal',
        highlightColor: 'red',
        highlightFontSize: 14,
        highlightFontWeight: 'bold',
        highlightStrokeColor: 'red',
        highlightStrokeWidth: 1.5,
        mouseCursor: 'crosshair',
        opacity: 0.9,
        renderLabel: true,
        size: 200,
        strokeColor: 'none',
        strokeWidth: 1.5,
        svg: '',
        symbolType: 'circle',
    },
    link: {
        color: 'lightgray',
        fontColor: 'black',
        fontSize: 8,
        fontWeight: 'normal',
        highlightColor: 'red',
        highlightFontSize: 8,
        highlightFontWeight: 'normal',
        labelProperty: 'label',
        mouseCursor: 'pointer',
        opacity: 1,
        renderLabel: false,
        semanticStrokeWidth: true,
        strokeWidth: 3,
        markerHeight: 6,
        markerWidth: 6,
        strokeDasharray: 0,
        strokeDashoffset: 0,
        strokeLinecap: 'butt',
    },
};

const Tree = () => {
    const onClickNode = function (nodeId: string) {
        window.alert(`Clicked node ${nodeId}`);
    };

    const onClickLink = function (source: string, target: string) {
        window.alert(`Clicked link between ${source} and ${target}`);
    };

    return (
        <div className="flex justify-center ">
            <div className="w-full h-screen">
                <Graph
                    id="graph-id" // id is mandatory
                    data={data}
                    config={myConfig}
                    onClickNode={onClickNode}
                    onClickLink={onClickLink}
                />
            </div>
        </div>
    );
};

export default memo(Tree);
